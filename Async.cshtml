@{
    ViewBag.Title = "INF272: Section A";
}
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>

<div class="container">
    <h3 align="right"><strong>Section A (10 marks).<br />AJAX and jQuery.</strong></h3>
    <br />
    <table id="tblTable" class="table table-bordered table-striped table-responsive table-hover" width="100%">
        <thead>
            <tr>
                <th align="left" class="dept col-md-6">Name</th>
                <th align="left" class="dept col-md-6">Budget</th>
            </tr>
        </thead>
        <tbody id="tbody"></tbody>
    </table>
</div>

@*
    Complete the question for this section BELOW THIS LINE.
    Do not remove the green line.
    --------------------------------------------------------
    --------------------------------------------------------
*@

<script type="text/javascript">

    $(document).ready(function () {
        loadData();
    });

    //Load Data function  
    function loadData() {
        $.ajax({
            url: "/Async/GetDepartment",
            type: "GET",
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                console.log(result);
                var html = '';
                $.each(result, function (key, item) {
                    html += '<tr>';
                    html += '<td>' + item.Name + '</td>';
                    html += '<td>' + item.Budget + '</td>';
                    html += '</tr>';
                });
                $('.tbody').html(html);
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });
    }

</script>